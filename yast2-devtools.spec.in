@HEADER-COMMENT@ 
# neededforbuild gpp libgpp  perl-XML-Writer libxml2 libxslt docbook-xsl-stylesheets docbook_4 libgcrypt libgpg-error sgml-skel gettext-devel

@HEADER@
Requires:	perl
Requires:	perl-XML-Writer
Requires:       libxslt
Provides:	ycpdoc ydoc
Obsoletes:	ycpdoc ydoc
Provides:	yast2-config-newmodule yast2-trans-newmodule
Obsoletes:	yast2-config-newmodule yast2-trans-newmodule

Summary:	YaST2 development tools

BuildArchitectures: noarch

%description
-

@PREP@

%build
autoreconf --force --install

%{?suse_update_config:%{suse_update_config -f}}
./configure --prefix=%{prefix} --libdir=%{_libdir}
make

@INSTALL@

# Change false to true in the following line when yast2 core is broken
false && cat > "$RPM_BUILD_ROOT/@ydatadir@/devtools/NO_MAKE_CHECK" <<EOF
When yast2 core is broken and the interpreter does not work,
submitting yast2-devtools with the flag file existing will
prevent ycp developers being flooded by testsuite failures.
EOF

@CLEAN@

%files
%defattr(-,root,root)
%{prefix}/bin/y2tool
%dir %{prefix}/lib/YaST2
@ybindir@
%dir %{prefix}/share/YaST2
@ydatadir@
%{prefix}/share/aclocal/*.m4
@pkgconfigdir@/@RPMNAME@.pc
%doc @docdir@
